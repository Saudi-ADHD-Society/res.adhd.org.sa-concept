# Internationalization (i18n) Setup

This project uses Astro's native i18n routing to support dual-language content in English (`/en/*`) and Arabic (`/ar/*`).

## Configuration

The i18n configuration is set in `astro.config.mjs`:

```javascript
i18n: {
  locales: ['en', 'ar'],
  defaultLocale: 'en',
  routing: {
    prefixDefaultLocale: true, // Both locales use prefixed URLs
  },
}
```

## Structure

- **English pages**: Located in `src/pages/en/`
- **Arabic pages**: Located in `src/pages/ar/`
- **Root redirect**: `src/pages/index.astro` redirects to `/en/`

All pages maintain 100% structural parity between languages. Arabic pages currently use placeholder content (prefixed with `[AR]` in titles) and can be updated with real translations later.

## Adding New Pages

When adding a new page:

1. **Create the English version** in `src/pages/en/[path]/page.astro`
2. **Create the Arabic version** in `src/pages/ar/[path]/page.astro` with the same structure
3. **Pass locale prop** to `BaseLayout` and React components:
   ```astro
   const locale = 'en'; // or 'ar'
   <BaseLayout title="Page Title" locale={locale}>
     <YourComponent client:load basePath={basePath} locale={locale} />
   </BaseLayout>
   ```

## Navigation

- **Navigation utilities**: Use `getHref(pageId, basePath, locale)` from `src/utils/navigation.js` for locale-aware links
- **Language switcher**: The Navigation component includes a language switcher that switches between `/en/*` and `/ar/*` routes
- **Breadcrumbs**: Automatically use locale-aware paths

## RTL Support

Arabic pages automatically use RTL (right-to-left) layout:
- `<html dir="rtl" lang="ar">` is set in `BaseLayout` for Arabic pages
- Tailwind CSS handles most RTL layout automatically
- Additional RTL-specific styles can be added using `html[dir="rtl"]` selectors in `src/index.css`

## React Components

All React page components accept a `locale` prop and pass it to navigation helpers:

```jsx
const YourPage = ({ basePath = '/res.adhd.org.sa-concept/', locale = 'en' }) => {
  return (
    <a href={getHref('some-page', basePath, locale)}>Link</a>
  );
};
```

## Date Formatting

Use locale-aware date formatting:

```javascript
new Date(date).toLocaleDateString(locale === 'ar' ? 'ar-SA' : 'en-US', {
  year: 'numeric',
  month: 'long',
  day: 'numeric'
})
```

## Best Practices

1. **Always maintain parity**: When adding a page in one language, add it in the other
2. **Use navigation helpers**: Never hardcode paths; use `getHref()` or `buildLocalizedPath()` from `src/utils/navigation.js`
3. **Pass locale prop**: Always pass `locale` to `BaseLayout` and React components
4. **Test both locales**: Verify pages work correctly in both `/en/*` and `/ar/*` routes
